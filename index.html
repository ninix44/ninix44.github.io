<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ninix44 | Systems Architect</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700;800&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-dark: #030005;
            --card-bg: rgba(20, 10, 30, 0.65);
            --card-border: #4c1d95;
            --accent: #a855f7;
            --accent-glow: rgba(168, 85, 247, 0.6);
            --secondary: #22d3ee;
            --text-main: #e0d4fc;
            --text-muted: #9485b3;
            --st-active: #4ade80;
            --st-progress: #facc15;
            --st-learn: #d8b4fe;
            --font-code: 'JetBrains Mono', monospace;
            --font-main: 'Montserrat', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; overflow-x: hidden; }

        body {
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at 50% 0%, #4c1d95 0%, #090014 65%);
            color: var(--text-main);
            font-family: var(--font-main);
            font-size: 14px;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 50px;
            background-attachment: fixed;
        }

        .bg-blob { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; overflow: hidden; pointer-events: none; }
        .blob { position: absolute; border-radius: 50%; filter: blur(90px); opacity: 0.4; animation: float 15s infinite alternate ease-in-out; }
        .blob-1 { top: 10%; left: -10%; width: 40vw; height: 40vw; background: #a855f7; }
        .blob-2 { bottom: -10%; right: -10%; width: 50vw; height: 50vw; background: #22d3ee; }
        @keyframes float { 0% { transform: translate(0, 0); } 100% { transform: translate(20px, 40px); } }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050010; }
        ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--secondary); }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        .hidden { display: none !important; }

        header {
            display: flex; justify-content: space-between; align-items: center;
            width: 90%; max-width: 1200px; margin: 20px auto 0; padding: 15px 30px;
            background: rgba(15, 5, 25, 0.8); backdrop-filter: blur(15px);
            border: 1px solid var(--card-border); border-radius: 100px;
            position: sticky; top: 20px; z-index: 100;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.2);
        }
        .logo { font-family: var(--font-code); font-weight: 800; font-size: 1.3rem; letter-spacing: -1px; color: #fff; text-shadow: 0 0 15px var(--accent); }
        .logo span { color: var(--secondary); }

        .nav-links { display: flex; gap: 5px; }
        .nav-btn {
            background: transparent; border: 1px solid transparent; color: var(--text-muted);
            padding: 8px 16px; font-family: var(--font-code); font-size: 0.9rem; cursor: pointer; border-radius: 20px; transition: 0.3s;
        }
        .nav-btn:hover { color: #fff; background: rgba(168, 85, 247, 0.2); border-color: var(--accent); box-shadow: 0 0 15px var(--accent-glow); }

        .container {
            max-width: 1200px; margin: 50px auto 0; padding: 0 20px;
            display: grid; grid-template-columns: repeat(12, 1fr); gap: 25px;
        }

        .box {
            background: var(--card-bg); backdrop-filter: blur(10px);
            border: 1px solid var(--card-border); border-radius: 20px; padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); position: relative; overflow: hidden;
            transition: transform 0.3s, border-color 0.3s, box-shadow 0.3s;
        }
        .box:hover { border-color: var(--accent); transform: translateY(-5px); box-shadow: 0 0 30px rgba(168, 85, 247, 0.3); }

        .hero-section { grid-column: span 8; display: flex; flex-direction: column; justify-content: center; }
        .hero-section h1 { font-size: 4.2rem; font-weight: 900; line-height: 0.95; letter-spacing: -2px; margin-bottom: 20px; text-transform: uppercase; text-shadow: 0 0 40px rgba(168, 85, 247, 0.4); }
        .hero-section h1 .gradient-text { background: linear-gradient(90deg, #fff, var(--accent), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-p { color: var(--text-muted); font-family: var(--font-code); margin-bottom: 30px; font-size: 1.15rem; }

        .dashboard-widget {
            grid-column: span 4; display: flex; flex-direction: column; justify-content: space-between;
            background: linear-gradient(145deg, rgba(40, 20, 60, 0.8), rgba(10, 5, 20, 0.8));
            border-color: var(--accent);
        }
        .widget-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .status-badge {
            font-family: var(--font-code); font-size: 0.7rem; padding: 4px 8px; border-radius: 6px;
            background: rgba(74, 222, 128, 0.15); color: #4ade80; border: 1px solid #4ade80;
            display: flex; align-items: center; gap: 6px;
        }
        .pulse-dot { width: 6px; height: 6px; background: #4ade80; border-radius: 50%; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(74,222,128,0.7); } 70% { box-shadow: 0 0 0 10px transparent; } 100% { box-shadow: 0 0 0 0 transparent; } }

        .time-big {
            font-family: var(--font-code); font-size: 2.8rem; font-weight: 700; line-height: 1; letter-spacing: -2px;
            color: #fff; text-shadow: 0 0 25px var(--accent); text-align: right;
        }
        .date-small { font-family: var(--font-code); color: var(--text-main); font-size: 0.85rem; margin-top: 5px; text-transform: uppercase; text-align: right; opacity: 0.8; }

        .info-row {
            display: flex; justify-content: center; align-items: center;
            margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);
        }
        .weather-box { display: flex; align-items: center; gap: 15px; color: var(--text-main); font-family: var(--font-code); }
        .weather-icon { font-size: 2rem; color: var(--secondary); }
        .weather-temp { font-weight: 700; font-size: 1.5rem; line-height: 1; }
        .weather-city { font-size: 0.8rem; color: var(--text-muted); }

        .lang-switch { display: flex; gap: 10px; margin-top: 20px; }
        .l-btn {
            flex: 1; padding: 10px; text-align: center; border-radius: 10px;
            background: rgba(0,0,0,0.3); border: 1px solid var(--card-border); color: var(--text-muted);
            cursor: pointer; font-family: var(--font-code); font-weight: 700; transition: 0.2s;
        }
        .l-btn:hover { background: rgba(168, 85, 247, 0.1); color: #fff; }
        .l-btn.active { background: var(--accent); color: #000; box-shadow: 0 0 25px var(--accent-glow); border-color: var(--accent); }

        .btn { padding: 16px 35px; border-radius: 10px; font-weight: 700; display: inline-flex; align-items: center; gap: 10px; transition: 0.3s; font-size: 0.95rem; text-transform: uppercase; letter-spacing: 1px; }
        .btn-primary { background: var(--accent); color: #000; box-shadow: 0 0 30px var(--accent-glow); border: none; }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 0 50px var(--accent-glow); background: #c084fc; }
        .btn-outline { background: rgba(255,255,255,0.05); border: 1px solid var(--card-border); color: #fff; }
        .btn-outline:hover { background: #fff; color: #000; border-color: #fff; }
        .btn-tg { margin-top: 20px; padding: 10px 20px; font-size: 0.9rem; background: rgba(34, 211, 238, 0.1); color: var(--secondary); border: 1px solid var(--secondary); border-radius: 8px; display: inline-flex; align-items: center; gap: 8px; font-family: var(--font-code); transition: 0.3s; }
        .btn-tg:hover { background: var(--secondary); color: #000; box-shadow: 0 0 20px var(--secondary); }

        .about-box { grid-column: span 7; }
        .stats-box { grid-column: span 5; display: flex; flex-direction: column; justify-content: center; }
        .box-title { font-family: var(--font-code); color: var(--accent); font-size: 0.9rem; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; font-weight: 700; }
        .profile-flex { display: flex; gap: 25px; align-items: flex-start; }
        .avatar-glow { width: 100px; height: 100px; border-radius: 15px; border: 2px solid var(--accent); box-shadow: 0 0 40px var(--accent-glow); }
        .stat-row { display: flex; justify-content: space-around; align-items: center; text-align: center; height: 100%; }
        .s-val { font-size: 3.5rem; font-weight: 800; line-height: 1; color: #fff; text-shadow: 0 0 20px rgba(255,255,255,0.5); }
        .s-lbl { font-family: var(--font-code); font-size: 0.85rem; color: var(--secondary); margin-top: 5px; letter-spacing: 1px; }

        .skills-box { grid-column: span 12; }
        .tabs { margin-bottom: 25px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; display: flex; overflow-x: auto; gap: 15px; }
        .tab-btn { background: none; border: none; color: var(--text-muted); margin-right: 0; cursor: pointer; font-family: var(--font-code); font-size: 1rem; padding-bottom: 5px; position: relative; transition: 0.3s; white-space: nowrap; }
        .tab-btn.active { color: var(--accent); font-weight: 700; }
        .tab-btn.active::after { content: ''; position: absolute; bottom: -16px; left: 0; width: 100%; height: 3px; background: var(--accent); box-shadow: 0 -5px 15px var(--accent); }
        .chip-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }
        .chip { background: rgba(0, 0, 0, 0.3); border: 1px solid var(--card-border); padding: 12px 18px; border-radius: 10px; font-family: var(--font-code); font-size: 0.9rem; display: flex; justify-content: space-between; align-items: center; transition: 0.2s; }
        .chip:hover { background: rgba(168, 85, 247, 0.15); border-color: var(--accent); transform: translateX(5px); box-shadow: 0 0 15px rgba(168, 85, 247, 0.2); }
        .chip-name { font-weight: 600; color: #fff; }
        .status-dot { font-size: 0.7rem; padding: 4px 8px; border-radius: 4px; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px; }
        .st-active { color: #000; background: var(--st-active); box-shadow: 0 0 10px var(--st-active); }
        .st-progress { color: #000; background: var(--st-progress); box-shadow: 0 0 10px var(--st-progress); }
        .st-learn { color: #000; background: var(--st-learn); box-shadow: 0 0 10px var(--st-learn); }

        .section-header { grid-column: span 12; margin-top: 50px; margin-bottom: 15px; font-family: var(--font-code); color: var(--accent); font-size: 1.3rem; letter-spacing: 1px; display: flex; align-items: center; gap: 15px; }
        .section-header::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--card-border), transparent); }
        .project-card { grid-column: span 4; display: flex; flex-direction: column; height: 100%; min-height: 280px; background: linear-gradient(180deg, rgba(30, 15, 50, 0.7), rgba(10, 5, 20, 0.9)); }
        .p-tags { margin-bottom: 15px; display: flex; gap: 8px; flex-wrap: wrap; }

        .p-tag {
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 6px;
            font-family: var(--font-code);
            transition: 0.3s;
            border: 1px solid var(--card-border);
            color: var(--text-muted);
            background: rgba(0,0,0,0.4);
        }

        .tag-cpp { border-color: #659ad2 !important; color: #659ad2 !important; background: rgba(101, 154, 210, 0.1) !important; }
        .tag-java { border-color: #b07219 !important; color: #b07219 !important; background: rgba(176, 114, 25, 0.1) !important; }
        .tag-rust { border-color: #dea584 !important; color: #dea584 !important; background: rgba(222, 165, 132, 0.1) !important; }

        .tag-graphics { border-color: #a855f7 !important; color: #a855f7 !important; background: rgba(168, 85, 247, 0.05) !important; }
        .tag-lib { border-color: #8b5cf6 !important; color: #8b5cf6 !important; background: rgba(139, 92, 246, 0.05) !important; }
        .tag-tool { border-color: #22d3ee !important; color: #22d3ee !important; background: rgba(34, 211, 238, 0.05) !important; }
        .tag-cli { border-color: #f472b6 !important; color: #f472b6 !important; background: rgba(244, 114, 182, 0.05) !important; }
        .tag-3d { border-color: #facc15 !important; color: #facc15 !important; background: rgba(250, 204, 21, 0.05) !important; }

        .p-tag:hover { box-shadow: 0 0 10px currentColor; }

        .p-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 10px; color: #fff; }
        .p-desc { color: var(--text-main); font-size: 0.95rem; flex-grow: 1; margin-bottom: 25px; opacity: 0.8; }
        .p-link { margin-top: auto; color: var(--accent); font-family: var(--font-code); font-size: 0.9rem; font-weight: 700; border-bottom: 2px solid transparent; padding-bottom: 2px; align-self: flex-start; display: flex; align-items: center; gap: 8px; }
        .p-link:hover { color: var(--secondary); border-color: var(--secondary); text-shadow: 0 0 10px var(--secondary); }

        .capability-card {
            grid-column: span 4;
            background: linear-gradient(135deg, rgba(20, 10, 40, 0.8), rgba(5, 5, 10, 0.9));
            border: 1px solid var(--card-border);
            border-radius: 15px;
            padding: 30px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .capability-card:hover { border-color: var(--secondary); box-shadow: 0 0 20px rgba(34, 211, 238, 0.15); }

        .cap-header {
            display: flex; align-items: center; gap: 15px; margin-bottom: 20px;
            padding-right: 200px;
        }
        .cap-icon { font-size: 1.8rem; color: var(--secondary); flex-shrink: 0; }
        .cap-title { font-family: var(--font-code); font-size: 1.1rem; font-weight: 700; color: #fff; line-height: 1.3; }
        .cap-list { list-style: none; padding-left: 5px; }
        .cap-list li {
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
            font-size: 0.95rem;
            color: var(--text-main);
        }
        .cap-list li::before {
            content: '►';
            position: absolute; left: 0; color: var(--accent); font-size: 0.8rem; top: 2px;
        }

        .tag-private {
            position: absolute;
            top: 10px;
            right: 10px;
            font-family: var(--font-code);
            font-size: 0.65rem;
            color: var(--secondary);
            border: 1px solid var(--secondary);
            padding: 2px 5px;
            border-radius: 4px;
            opacity: 0.8;
            background: rgba(34, 211, 238, 0.05);
            white-space: nowrap;
            z-index: 2;
        }

        .footer-license {
            grid-column: span 12;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 80px;
            padding: 40px 0;
            font-family: var(--font-code);
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.03);
        }

        .license-copy {
            color: #dcb183;
            font-size: 0.9rem;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .license-warn {
            color: #9ca3af;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .playground-section {
            grid-column: span 12;
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: 800px;
        }

        .editor-wrapper {
            display: flex;
            gap: 20px;
            height: 100%;
        }

        .shader-canvas-box {
            flex: 1;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--card-border);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }

        .shader-canvas-box canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .code-editor-box {
            flex: 1;
            background: #1e1e1e;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--card-border);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        #monaco-editor {
            width: 100%;
            flex-grow: 1;
        }

        .play-bar {
            padding: 10px 20px;
            background: rgba(20, 10, 30, 0.9);
            border-bottom: 1px solid var(--card-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .run-btn {
            background: var(--st-active);
            color: #000;
            border: none;
            padding: 5px 15px;
            font-family: var(--font-code);
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: 0.2s;
        }
        .run-btn:hover { background: #fff; transform: scale(1.05); }

        .error-log {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 0, 0, 0.9);
            color: white;
            font-family: var(--font-code);
            font-size: 0.8rem;
            padding: 10px;
            display: none;
            z-index: 10;
            white-space: pre-wrap;
        }

        @media (max-width: 900px) {
            header {
                width: 95%;
                padding: 15px;
                flex-direction: column;
                gap: 15px;
                border-radius: 30px;
            }
            .nav-links {
            display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }

            .container {
                display: flex;
                flex-direction: column;
                gap: 20px;
                padding: 0 15px;
                margin-top: 30px;
            }

            .box, .hero-section, .dashboard-widget, .about-box, .stats-box, .skills-box, .project-card, .section-header, .footer-license, .capability-card {
                grid-column: auto;
                width: 100%;
            }

            .hero-section {
                align-items: center;
                text-align: center;
            }

            .hero-section h1 {
                font-size: 2.5rem;
                line-height: 1.1;
                margin-bottom: 15px;
            }

            .hero-p {
                text-align: center;
                font-size: 1rem;
            }

            .hero-section div {
                justify-content: center;
                flex-wrap: wrap;
            }

            .widget-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 10px;
            }

            .time-big {
                font-size: 2.5rem;
                text-align: center;
            }

            .date-small {
                text-align: center;
            }

            .weather-box {
                justify-content: center;
            }

            .profile-flex {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .stat-row {
                gap: 20px;
            }

            .s-val { font-size: 2.5rem; }

            .cap-header {
                flex-direction: column;
                padding-right: 0;
                align-items: center;
                text-align: center;
                margin-top: 25px;
            }

            .tag-private {
                width: 100%;
                text-align: center;
                box-sizing: border-box;
                top: 15px;
                right: 0;
                left: 0;
                margin: 0 auto;
                max-width: 150px;
            }

            .playground-section {
                height: auto;
            }

            .editor-wrapper {
                flex-direction: column;
                height: auto;
            }

            .shader-canvas-box, .code-editor-box {
                height: 400px;
                flex: none;
            }

            .chip-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="bg-blob">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
</div>

<header>
    <div class="logo">Ninix<span>44</span>_</div>
    <div class="nav-links">
        <button class="nav-btn" onclick="scrollToId('projects')">./projects</button>
        <button class="nav-btn" onclick="scrollToId('skills')">./skills</button>
        <button class="nav-btn" onclick="scrollToId('playground')">./playground</button>
        <button class="nav-btn" onclick="scrollToId('about')">./contact</button>
    </div>
</header>

<div class="container">

    <div class="hero-section">
        <h1 id="hero-title" data-translate="hero_title">
            SYSTEMS<br>
            <span class="gradient-text">ENGINEER</span>
        </h1>
        <p class="hero-p" id="hero-desc" data-translate="hero_desc">
            <br>Stack: Rust, C++, Java, Kotlin, Python, ASM.
        </p>
        <div style="display: flex; gap: 20px;">
            <button class="btn btn-primary" onclick="scrollToId('projects')" data-translate="btn_explore">
                Explore Code <i class="fas fa-terminal"></i>
            </button>
            <a href="https://github.com/ninix44" target="_blank" class="btn btn-outline">
                GitHub <i class="fab fa-github"></i>
            </a>
        </div>
    </div>

    <div class="box dashboard-widget">
        <div class="widget-header">
            <div class="clock-display">
                <div id="time" class="time-big">00:00:00</div>
                <div id="date" class="date-small">LOADING...</div>
            </div>
            <div class="status-badge">
                <div class="pulse-dot"></div>
                <span data-translate="status_online">ONLINE</span>
            </div>
        </div>

        <div class="info-row">
            <div class="weather-box">
                <div id="weather-icon" class="weather-icon"><i class="fas fa-cloud"></i></div>
                <div>
                    <div id="weather-temp" class="weather-temp">--°C</div>
                    <div class="weather-city" data-translate="city_name">Moscow</div>
                </div>
            </div>
        </div>

        <div class="lang-switch">
            <div class="l-btn active" id="btn-en" onclick="setLanguage('en')">EN</div>
            <div class="l-btn" id="btn-ru" onclick="setLanguage('ru')">RU</div>
        </div>
    </div>

    <div class="box about-box" id="about">
        <div class="box-title"><i class="fas fa-user-astronaut"></i> about_me.rs</div>
        <div class="profile-flex">
            <img src="https://github.com/ninix44.png" alt="Avatar" class="avatar-glow">
            <div>
                <h2 style="font-size: 1.8rem; margin-bottom: 5px; color: #fff;">Ninix44</h2>
                <span style="color:var(--secondary); font-family:var(--font-code); font-size:0.9rem;" data-translate="role_tag">Low-Level & Backend Specialist</span>
                <p style="margin-top: 15px; color: var(--text-main); font-size: 1rem;" id="about-bio" data-translate="about_bio">
                    I don't just write code, I engineer systems. From writing a custom <b>OS Bootloader</b> in Assembly to building complex <b>Android Remote Control</b> systems and Game Engines.
                </p>
                <a href="https://t.me/ogo_orig" target="_blank" class="btn-tg">
                    <i class="fab fa-telegram-plane"></i> @ogo_orig
                </a>
            </div>
        </div>
    </div>

    <div class="box stats-box">
        <div class="stat-row">
            <div>
                <div class="s-val">6+</div>
                <div class="s-lbl" data-translate="stat_lang">LANGUAGES</div>
            </div>
            <div style="width:1px; height:50px; background:rgba(255,255,255,0.1);"></div>
            <div>
                <div class="s-val">5+</div>
                <div class="s-lbl" data-translate="stat_proj">REPOSITORIES</div>
            </div>
        </div>
    </div>

    <div class="box skills-box" id="skills">
        <div class="tabs">
            <button class="tab-btn active" onclick="filterSkills('all', this)" data-translate="tab_all">ALL</button>
            <button class="tab-btn" onclick="filterSkills('lang', this)" data-translate="tab_lang">LANGUAGES</button>
            <button class="tab-btn" onclick="filterSkills('tech', this)" data-translate="tab_tech">STACK</button>
        </div>

        <div class="chip-grid">
            <a href="https://www.java.com" target="_blank" class="chip s-lang">
                <span class="chip-name">Java</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://kotlinlang.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">Kotlin</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://isocpp.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">C++</span><span class="status-dot st-learn" data-translate="s_learning">Active</span>
            </a>
            <a href="https://www.rust-lang.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">Rust</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://dotnet.microsoft.com/en-us/languages/csharp" target="_blank" class="chip s-lang">
                <span class="chip-name">C#</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://www.python.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">Python</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://www.khronos.org/opengl/wiki/Core_Language_(GLSL)" target="_blank" class="chip s-lang">
                <span class="chip-name">GLSL (Shaders)</span><span class="status-dot st-learn" data-translate="s_learning">In Progress</span>
            </a>
            <a href="https://en.wikipedia.org/wiki/Assembly_language" target="_blank" class="chip s-lang">
                <span class="chip-name">Assembly</span><span class="status-dot st-learn" data-translate="s_learning">Learning</span>
            </a>
            <a href="https://www.scala-lang.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">Scala</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>

            <a href="https://en.cppreference.com/w/c" target="_blank" class="chip s-lang">
                <span class="chip-name">C</span><span class="status-dot st-learn" data-translate="s_learning">In Progress</span>
            </a>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank" class="chip s-lang">
                <span class="chip-name">JavaScript</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://www.typescriptlang.org/" target="_blank" class="chip s-lang">
                <span class="chip-name">TypeScript</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>

            <a href="https://spring.io/projects/spring-boot" target="_blank" class="chip s-tech">
                <span class="chip-name">Spring Boot</span><span class="status-dot st-active" data-translate="s_active">Active</span>
            </a>
            <a href="https://developer.android.com/" target="_blank" class="chip s-tech">
                <span class="chip-name">Android SDK</span><span class="status-dot st-learn" data-translate="s_learning">Active</span>
            </a>
            <a href="https://www.raylib.com/" target="_blank" class="chip s-tech">
                <span class="chip-name">Raylib</span><span class="status-dot st-learn" data-translate="s_learning">In Progress</span>
            </a>
            <a href="https://www.opengl.org/" target="_blank" class="chip s-tech">
                <span class="chip-name">OpenGL</span><span class="status-dot st-learn" data-translate="s_learning">In Progress</span>
            </a>

            <a href="https://developer.android.com/training/camerax" target="_blank" class="chip s-tech">
                <span class="chip-name">CameraX</span><span class="status-dot st-learn" data-translate="s_learning">Active</span>
            </a>
            <a href="https://learn.microsoft.com/en-us/windows/win32/apiindex/windows-api-list" target="_blank" class="chip s-tech">
                <span class="chip-name">WinAPI</span><span class="status-dot st-learn" data-translate="s_learning">Active</span>
            </a>
        </div>
    </div>

    <div class="section-header">// ENGINEERING_CAPABILITIES</div>

    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fas fa-shield-alt cap-icon"></i>
            <div class="cap-title" data-translate="cap_sec_title">Game Security & Low Level</div>
        </div>
        <ul class="cap-list" data-translate="cap_sec_list">
            <li>Fortnite Memory Manipulation & Pattern Scanning</li>
            <li>Direct Memory Access (DMA) Card Emulation</li>
            <li>KMBox (Hardware Input) Emulation & Spoofing</li>
            <li>Bypassing User-Mode Anti-Cheats (External Overlays)</li>
        </ul>
    </div>

    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fas fa-layer-group cap-icon"></i>
            <div class="cap-title" data-translate="cap_sys_title">Complex Systems Architecture</div>
        </div>
        <ul class="cap-list" data-translate="cap_sys_list">
            <li>Custom C++ Game Engine (OpenGL/Raylib, Bodycam Shaders)</li>
            <li>Android Remote Administration (H.264 Stream, Input Injection)</li>
            <li>Minecraft Fabric Modding (Bytecode Manipulation/Mixins)</li>
            <li>Socket-based Real-time Communication Protocols</li>
        </ul>
    </div>

    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fas fa-microchip cap-icon"></i>
            <div class="cap-title" data-translate="cap_hwid_title">Hardware ID & Identity</div>
        </div>
        <ul class="cap-list" data-translate="cap_hwid_list">
            <li>Kernel-level HWID Spoofing (Disk Serials, GPU UUIDs)</li>
            <li>SMBIOS/UEFI Table Manipulation & ACPI Tables</li>
            <li>Network Adapter MAC Address Randomization</li>
            <li>System Trace Cleaning (Registry, Event Logs)</li>
        </ul>
    </div>


    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fab fa-android cap-icon"></i>
            <div class="cap-title" data-translate="cap_mob_title">Mobile System Internals</div>
        </div>
        <ul class="cap-list" data-translate="cap_mob_list">
            <li>Custom Android Remote Admin (MediaProjection Screen Stream)</li>
            <li>Hidden Foreground Services & Boot Persistence</li>
            <li>Camera2 API Background Capture & Audio Injection</li>
            <li>Raw Socket Communication Protocols (Java/Kotlin)</li>
        </ul>
    </div>

    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fas fa-eye cap-icon"></i>
            <div class="cap-title" data-translate="cap_vis_title">Computer Vision & AI</div>
        </div>
        <ul class="cap-list" data-translate="cap_vis_list">
            <li>Real-time Face Tracking (Google ML Kit / MediaPipe)</li>
            <li>Kalman Filtering for Motion Smoothing</li>
            <li>Gesture Recognition & Interaction Logic</li>
            <li>Object Detection Overlays (Canvas API)</li>
        </ul>
    </div>

    <div class="capability-card">
        <span class="tag-private">PRIVATE / CLOSED SOURCE</span>
        <div class="cap-header">
            <i class="fas fa-cubes cap-icon"></i>
            <div class="cap-title" data-translate="cap_gfx_title">Graphics Engine & Sim</div>
        </div>
        <ul class="cap-list" data-translate="cap_gfx_list">
            <li>Custom C++/Raylib Game Engine Architecture</li>
            <li>GLSL Shader Programming (Bodycam, Volumetric)</li>
            <li>High-Performance Rust Particle Simulations (3000+)</li>
            <li>3D Spline Pathing & Math Visualization</li>
        </ul>
    </div>


    <div class="section-header" id="projects">// OPEN_SOURCE_REPOSITORIES</div>


    <div class="box project-card">
        <div class="p-tags">
            <span class="p-tag tag-cpp">C++</span>
            <span class="p-tag tag-graphics">Graphics</span>
        </div>
        <div class="p-title">asciiRaytracer</div>
        <p class="p-desc" data-translate="desc_ascii">ASCII-based real-time ray tracer written in C++. Renders 3D geometry in console.</p>
        <a href="https://github.com/ninix44/asciiRaytracer" target="_blank" class="p-link">VIEW REPO <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="box project-card">
        <div class="p-tags">
            <span class="p-tag tag-java">Java</span>
            <span class="p-tag tag-lib">Library</span>
        </div>
        <div class="p-title">NixLib</div>
        <p class="p-desc" data-translate="desc_nixlib">Custom utility library for Java development. Streamlines common backend tasks.</p>
        <a href="https://github.com/ninix44/NixLib" target="_blank" class="p-link">VIEW REPO <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="box project-card">
        <div class="p-tags">
            <span class="p-tag tag-rust">Rust</span>
            <span class="p-tag tag-tool">Tool</span>
        </div>
        <div class="p-title">kilomon</div>
        <p class="p-desc" data-translate="desc_kilo">High-performance system monitoring tool written in Rust. Lightweight and fast.</p>
        <a href="https://github.com/ninix44/kilomon" target="_blank" class="p-link">VIEW REPO <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="box project-card">
        <div class="p-tags">
            <span class="p-tag tag-rust">Rust</span>
            <span class="p-tag tag-cli">CLI</span>
        </div>
        <div class="p-title">dev-cleaner</div>
        <p class="p-desc" data-translate="desc_cleaner">CLI tool to clean development artifacts (node_modules, target) and free up disk space.</p>
        <a href="https://github.com/ninix44/dev-cleaner" target="_blank" class="p-link">VIEW REPO <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="box project-card">
        <div class="p-tags">
            <span class="p-tag tag-java">Java</span>
            <span class="p-tag tag-3d">3D</span>
        </div>
        <div class="p-title">Export3D</div>
        <p class="p-desc" data-translate="desc_export">Utility for exporting and converting 3D model formats. Optimized for game dev pipelines.</p>
        <a href="https://github.com/ninix44/Export3D" target="_blank" class="p-link">VIEW REPO <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="section-header" id="playground">// SHADER_PLAYGROUND (GLSL)</div>

    <div class="box playground-section">
        <div class="editor-wrapper">
            <div class="shader-canvas-box">
                <canvas id="glCanvas"></canvas>
                <div id="errorLog" class="error-log"></div>
                <div style="position:absolute; top:10px; left:10px; font-family:var(--font-code); font-size:0.7rem; color:rgba(255,255,255,0.5); pointer-events:none;">
                    uniforms: iTime (float), iResolution (vec2)
                </div>
            </div>

            <div class="code-editor-box">
                <div class="play-bar">
                    <span style="font-family:var(--font-code); color:var(--text-muted); font-size:0.9rem;">mainImage.glsl</span>
                    <button class="run-btn" onclick="compileShader()">
                        <i class="fas fa-play"></i> RUN / UPDATE (Ctrl+S)
                    </button>
                </div>
                <div id="monaco-editor"></div>
            </div>
        </div>
    </div>

    <div class="footer-license">
        <div class="license-copy" data-translate="license_copy">© 2026 @Ninix44. All rights reserved.</div>
        <div class="license-warn" data-translate="license_warn">Copying, stealing or distributing content from this site without permission is strictly prohibited.</div>
    </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.38.0/min/vs/loader.min.js"></script>

<script>
    let currentLang = 'en';

    const translations = {
        en: {
            hero_title: "SYSTEMS<br><span class='gradient-text'>ENGINEER</span>",
            hero_desc: "// Building high-performance software, game engines, and OS kernels.<br>Main Stack: Rust, C++, Java, Kotlin, Python.",
            btn_explore: "Explore Code <i class='fas fa-terminal'></i>",
            role_tag: "Low-Level & Backend Specialist",
            about_bio: "I'm 18, my name is Egor. I'm a <b>student</b> who loves learning new things and chatting with people. I just make cool stuff and grow in what I find interesting :>",
            stat_lang: "LANGUAGES",
            stat_proj: "REPOSITORIES",
            tab_all: "ALL",
            tab_lang: "LANGUAGES",
            tab_tech: "STACK",
            s_active: "Active",
            s_progress: "In Progress",
            s_learning: "Learning",

            cap_sec_title: "Game Security & Low Level",
            cap_sec_list: `
                <li>Fortnite Memory Management & Pattern Scanning</li>
                <li>Direct Memory Access (DMA) Card Emulation</li>
                <li>KMBox (Hardware Input) Emulation & Spoofing</li>
                <li>Bypassing User-Mode Anti-Cheats (External Overlays)</li>
            `,
            cap_sys_title: "Complex Systems Architecture",
            cap_sys_list: `
                <li>Custom C++ Game Engine (OpenGL/Raylib, Bodycam Shaders)</li>
                <li>Android Remote Administration (H.264 Stream, Input Injection)</li>
                <li>Minecraft Fabric Modding (Bytecode Manipulation/Mixins)</li>
                <li>Socket-based Real-time Communication Protocols</li>
            `,
            cap_hwid_title: "Hardware ID & Identity",
            cap_hwid_list: `
                <li>Kernel-level HWID Spoofing (Disk Serials, GPU UUIDs)</li>
                <li>SMBIOS/UEFI Table Manipulation & ACPI Tables</li>
                <li>Network Adapter MAC Address Randomization</li>
                <li>System Trace Cleaning (Registry, Event Logs)</li>
            `,

            cap_mob_title: "Mobile System Internals",
            cap_mob_list: `
                <li>Custom Android Remote Admin (MediaProjection Screen Stream)</li>
                <li>Hidden Foreground Services & Boot Persistence</li>
                <li>Camera2 API Background Capture & Audio Injection</li>
                <li>Raw Socket Communication Protocols (Java/Kotlin)</li>
            `,
            cap_vis_title: "Computer Vision & AI",
            cap_vis_list: `
                <li>Real-time Face Tracking (Google ML Kit / MediaPipe)</li>
                <li>Kalman Filtering for Motion Smoothing</li>
                <li>Gesture Recognition & Interaction Logic</li>
                <li>Object Detection Overlays (Canvas API)</li>
            `,
            cap_gfx_title: "Graphics Engine & Sim",
            cap_gfx_list: `
                <li>Custom C++/Raylib Game Engine Architecture</li>
                <li>GLSL Shader Programming (Bodycam, Volumetric)</li>
                <li>High-Performance Rust Particle Simulations (3000+)</li>
                <li>3D Spline Pathing & Math Visualization</li>
            `,

            desc_eclipse: "Advanced Game Client & Launcher system. ASM Bytecode manipulation (Mixins), custom WPF Loader with HWID protection.",
            desc_rat: "Remote Administration Tool for Android. Real-time screen streaming via MediaProjection, input injection, and file management.",
            desc_vision: "Real-time Computer Vision apps. 'Sniper-Face' uses Kalman Filtering for tracking. 'HandReactions' detects gestures using MediaPipe.",
            desc_os: "Custom Operating System prototype. 16-bit Real Mode Bootloader written in Assembly (BIOS int 10h) loading a C++ Kernel. Direct memory access.",
            desc_universal: "High-performance file processing suite. AI-powered background removal (U2Net), PDF/Word conversion, and media encoding.",
            desc_sims: "Collection of graphics projects: 'Export3D' for model conversion, 'Aura' for particle physics, and a custom ASCII Raytracer.",
            desc_ascii: "ASCII-based real-time ray tracer written in C++. Renders 3D geometry in console.",
            desc_nixlib: "Core rendering library for NeoForge 1.21. Features GLSL shaders, advanced VFX engine, and volumetric rendering.",
            desc_kilo: "Lightweight terminal-based process monitor. Features real-time tracking, smart sorting, and interactive 'Killer Mode'.",
            desc_cleaner: "Fast CLI tool to reclaim disk space. Safely scans and deletes heavy folders like node_modules, target, and .venv.",
            desc_export: "Minecraft Fabric mod to export builds to .obj/.mtl files. Features accurate geometry, texture extraction, and optimization.",

            city_name: "Moscow",
            status_online: "ONLINE",
            contrib_sub: "Contributions in 2026",
            license_copy: "© 2026 @Ninix44. All rights reserved.",
            license_warn: "Copying, stealing or distributing content from this site without permission is strictly prohibited."
        },
        ru: {
            hero_title: "СИСТЕМНЫЙ<br><span class='gradient-text'>ИНЖЕНЕР</span>",
            hero_desc: "// Разработка высокопроизводительного ПО, игровых движков, ядер ОС.<br>Основной стек: Rust, C++, Java, Kotlin, Python.",
            btn_explore: "Смотреть код <i class='fas fa-terminal'></i>",
            role_tag: "Специалист по Low-Level и Backend",
            about_bio: "Мне 18, зовут Егор. Я <b>студент</b>, люблю изучать что-то новое и всегда рад пообщаться. Просто делаю крутые штуки и развиваюсь в том, что мне интересно :>",
            stat_lang: "ЯЗЫКОВ",
            stat_proj: "РЕПОЗИТОРИЕВ",
            tab_all: "ВСЕ",
            tab_lang: "ЯЗЫКИ",
            tab_tech: "СТЕК",
            s_active: "Активно",
            s_progress: "В процессе",
            s_learning: "Изучаю",

            cap_sec_title: "Игровая Безопасность и Low Level",
            cap_sec_list: `
                <li>Работа с памятью Fortnite и сканирование паттернов</li>
                <li>Эмуляция карт прямого доступа к памяти (DMA)</li>
                <li>Эмуляция и спуфинг аппаратного ввода (KMBox)</li>
                <li>Обход User-Mode античитов (Внешние оверлеи)</li>
            `,
            cap_sys_title: "Архитектура Сложных Систем",
            cap_sys_list: `
                <li>Кастомный игровой движок на C++ (OpenGL/Raylib, Bodycam шейдеры)</li>
                <li>Удаленное управление Android (H.264 Стрим, инъекция ввода)</li>
                <li>Моддинг Minecraft Fabric (Манипуляция байт-кодом/Mixins)</li>
                <li>Real-time протоколы связи на сокетах</li>
            `,
            cap_hwid_title: "HWID и Аппаратная Безопасность",
            cap_hwid_list: `
                <li>Kernel-level Спуфинг HWID (Серийники дисков, GPU UUID)</li>
                <li>Манипуляция таблицами SMBIOS/UEFI и ACPI</li>
                <li>Рандомизация MAC-адресов сетевых адаптеров</li>
                <li>Алгоритмы очистки системных следов (Реестр, Логи)</li>
            `,

            cap_mob_title: "Внутреннее устройство Mobile",
            cap_mob_list: `
                <li>Кастомное удаленное управление Android (MediaProjection Screen Stream)</li>
                <li>Скрытые Foreground сервисы и автозагрузка (Boot Persistence)</li>
                <li>Camera2 API для фонового захвата и аудио инъекции</li>
                <li>Протоколы связи на сырых сокетах (Java/Kotlin)</li>
            `,
            cap_vis_title: "Компьютерное Зрение и AI",
            cap_vis_list: `
                <li>Трекинг лица в реальном времени (Google ML Kit / MediaPipe)</li>
                <li>Фильтр Калмана для сглаживания движений</li>
                <li>Распознавание жестов и логика взаимодействия</li>
                <li>Оверлеи детекции объектов (Canvas API)</li>
            `,
            cap_gfx_title: "Графические Движки и Симуляции",
            cap_gfx_list: `
                <li>Кастомная архитектура игрового движка на C++/Raylib</li>
                <li>Программирование GLSL шейдеров (Bodycam, Volumetric)</li>
                <li>Высокопроизводительные симуляции частиц на Rust (3000+)</li>
                <li>3D Сплайны и математическая визуализация</li>
            `,

            desc_eclipse: "Сложная экосистема игрового клиента. Манипуляция байт-кодом (Mixins), кастомный WPF Лаунчер с HWID защитой.",
            desc_rat: "Инструмент удаленного администрирования Android. Стриминг экрана в реальном времени, файловый менеджер и инъекция ввода.",
            desc_vision: "Computer Vision приложения. 'Sniper-Face' использует фильтр Калмана для трекинга лица. 'HandReactions' распознает жесты.",
            desc_os: "Прототип собственной ОС. Bootloader на Assembly (16-bit Real Mode) загружает ядро на C++. Прямой доступ к памяти.",
            desc_universal: "Универсальный комбайн для файлов. Удаление фона через AI (U2Net), конвертация PDF/Word и обработка медиа.",
            desc_sims: "Графические проекты: 'Export3D' для конвертации моделей, 'Aura' для физики частиц и ASCII Raytracer на C++.",
            desc_ascii: "ASCII трассировка лучей в реальном времени на C++. Рендеринг 3D графики в консоли.",
            desc_nixlib: "Библиотека рендеринга для NeoForge 1.21. Включает GLSL шейдеры, продвинутый VFX движок и объемный рендеринг.",
            desc_kilo: "Легкий терминальный монитор процессов. Поддерживает отслеживание в реальном времени, сортировку и интерактивный 'Killer Mode'.",
            desc_cleaner: "Быстрый CLI инструмент для освобождения места. Безопасно находит и удаляет тяжелые папки (node_modules, target, .venv).",
            desc_export: "Fabric мод для экспорта построек в .obj/.mtl. Поддерживает сложную геометрию, текстуры и оптимизацию сетки.",

            city_name: "Москва",
            status_online: "В СЕТИ",
            contrib_sub: "Контрибуций в 2026",
            license_copy: "© 2026 @Ninix44. Все права защищены.",
            license_warn: "Копирование, кража или распространение контента с этого сайта без разрешения строго запрещены."
        }
    };

    function setLanguage(lang) {
        currentLang = lang;
        document.documentElement.lang = lang;

        document.getElementById('btn-en').classList.remove('active');
        document.getElementById('btn-ru').classList.remove('active');
        document.getElementById('btn-' + lang).classList.add('active');

        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(el => {
            const key = el.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });

        updateTime();
    }

    function updateTime() {
        const now = new Date();
        const moscowTimeZone = 'Europe/Moscow';

        const locale = currentLang === 'ru' ? 'ru-RU' : 'en-US';

        const timeString = now.toLocaleTimeString('en-GB', {
            timeZone: moscowTimeZone,
            hour12: false,
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });

        const dateString = now.toLocaleDateString(locale, {
            timeZone: moscowTimeZone,
            month: 'long',
            day: 'numeric',
            weekday: 'short'
        });

        document.getElementById('time').innerText = timeString;
        document.getElementById('date').innerText = dateString.replace('.', '');
    }

    async function fetchWeather() {
        try {
            const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=55.75&longitude=37.62&current_weather=true');
            const data = await response.json();
            const temp = Math.round(data.current_weather.temperature);
            const code = data.current_weather.weathercode;

            let icon = "fa-cloud";
            if(code <= 1) icon = "fa-sun";
            else if(code <= 3) icon = "fa-cloud-sun";
            else if(code <= 67) icon = "fa-cloud-rain";
            else if(code <= 77) icon = "fa-snowflake";
            else if(code > 80) icon = "fa-bolt";

            document.getElementById('weather-temp').innerText = `${temp > 0 ? '+' : ''}${temp}°C`;
            document.getElementById('weather-icon').innerHTML = `<i class="fas ${icon}"></i>`;
        } catch (e) {
            console.log("Weather error", e);
        }
    }

    function filterSkills(category, btn) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const langs = document.querySelectorAll('.s-lang');
        const techs = document.querySelectorAll('.s-tech');

        if (category === 'all') {
            langs.forEach(el => el.classList.remove('hidden'));
            techs.forEach(el => el.classList.remove('hidden'));
        } else if (category === 'lang') {
            langs.forEach(el => el.classList.remove('hidden'));
            techs.forEach(el => el.classList.add('hidden'));
        } else if (category === 'tech') {
            langs.forEach(el => el.classList.add('hidden'));
            techs.forEach(el => el.classList.remove('hidden'));
        }
    }

    function scrollToId(id) {
        const el = document.getElementById(id);
        if(el) el.scrollIntoView({ behavior: 'smooth' });
    }

    const canvas = document.getElementById("glCanvas");
    const gl = canvas.getContext("webgl");
    const errorLog = document.getElementById("errorLog");
    let program = null;
    let animationFrameId;

    const vsSource = `
        attribute vec2 position;
        void main() { gl_Position = vec4(position, 0.0, 1.0); }
    `;

    const fsPrefix = `
        precision mediump float;
        uniform vec2 iResolution;
        uniform float iTime;
    `;
    const fsSuffix = `
        void main() {
            mainImage(gl_FragColor, gl_FragCoord.xy);
        }
    `;

    const defaultCode = `void mainImage( out vec4 fragColor, in vec2 fragCoord )
{
    // Normalized pixel coordinates (from 0 to 1)
    vec2 uv = fragCoord/iResolution.xy;

    // Time varying pixel color
    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));

    // Output to screen
    fragColor = vec4(col,1.0);
}`;

    function initGL() {
        if (!gl) return;
        const buffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
            -1, -1,  1, -1, -1,  1,
            -1,  1,  1, -1,  1,  1
        ]), gl.STATIC_DRAW);
    }

    function createShader(gl, type, source) {
        const shader = gl.createShader(type);
        gl.shaderSource(shader, source);
        gl.compileShader(shader);
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            const info = gl.getShaderInfoLog(shader);
            errorLog.innerText = "ERROR: " + info.replace(/ERROR: 0:(\d+):/g, (match, line) => `Line ${line - 4}: `);
            errorLog.style.display = "block";
            gl.deleteShader(shader);
            return null;
        }
        return shader;
    }

    let editorInstance;
    require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.38.0/min/vs' }});

    require(['vs/editor/editor.main'], function () {

        monaco.languages.registerCompletionItemProvider('c', {
            provideCompletionItems: function (model, position) {
                const suggestions = [
                    { label: 'vec3', kind: monaco.languages.CompletionItemKind.Class, insertText: 'vec3(${1:x}, ${2:y}, ${3:z})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: '3D Vector' },
                    { label: 'vec2', kind: monaco.languages.CompletionItemKind.Class, insertText: 'vec2(${1:x}, ${2:y})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'vec4', kind: monaco.languages.CompletionItemKind.Class, insertText: 'vec4(${1:x}, ${2:y}, ${3:z}, ${4:w})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'mix', kind: monaco.languages.CompletionItemKind.Function, insertText: 'mix(${1:x}, ${2:y}, ${3:a})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Linear interpolation' },
                    { label: 'smoothstep', kind: monaco.languages.CompletionItemKind.Function, insertText: 'smoothstep(${1:edge0}, ${2:edge1}, ${3:x})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'sin', kind: monaco.languages.CompletionItemKind.Function, insertText: 'sin(${1:x})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'cos', kind: monaco.languages.CompletionItemKind.Function, insertText: 'cos(${1:x})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'normalize', kind: monaco.languages.CompletionItemKind.Function, insertText: 'normalize(${1:v})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'length', kind: monaco.languages.CompletionItemKind.Function, insertText: 'length(${1:v})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'texture', kind: monaco.languages.CompletionItemKind.Function, insertText: 'texture(${1:sampler}, ${2:coord})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'pow', kind: monaco.languages.CompletionItemKind.Function, insertText: 'pow(${1:x}, ${2:y})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'step', kind: monaco.languages.CompletionItemKind.Function, insertText: 'step(${1:edge}, ${2:x})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet },
                    { label: 'iTime', kind: monaco.languages.CompletionItemKind.Constant, insertText: 'iTime', documentation: 'Shader playback time in seconds' },
                    { label: 'iResolution', kind: monaco.languages.CompletionItemKind.Constant, insertText: 'iResolution', documentation: 'Viewport resolution (pixels)' },
                    { label: 'fragColor', kind: monaco.languages.CompletionItemKind.Variable, insertText: 'fragColor' },
                    { label: 'fragCoord', kind: monaco.languages.CompletionItemKind.Variable, insertText: 'fragCoord' }
                ];
                return { suggestions: suggestions };
            }
        });

        editorInstance = monaco.editor.create(document.getElementById('monaco-editor'), {
            value: defaultCode,
            language: 'c',
            theme: 'vs-dark',
            automaticLayout: true,
            fontSize: 14,
            fontFamily: "'JetBrains Mono', monospace",
            minimap: { enabled: false },
            padding: { top: 15 }
        });

        initGL();
        compileShader();

        editorInstance.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS, function() {
            compileShader();
        });
    });

    window.compileShader = function() {
        if (!editorInstance) return;

        const userCode = editorInstance.getValue();
        const fullFsSource = fsPrefix + userCode + fsSuffix;

        errorLog.style.display = "none";

        const vs = createShader(gl, gl.VERTEX_SHADER, vsSource);
        const fs = createShader(gl, gl.FRAGMENT_SHADER, fullFsSource);

        if (!vs || !fs) return;

        const newProgram = gl.createProgram();
        gl.attachShader(newProgram, vs);
        gl.attachShader(newProgram, fs);
        gl.linkProgram(newProgram);

        if (!gl.getProgramParameter(newProgram, gl.LINK_STATUS)) {
            errorLog.innerText = "Link Error: " + gl.getProgramInfoLog(newProgram);
            errorLog.style.display = "block";
            return;
        }

        if (program) gl.deleteProgram(program);
        program = newProgram;

        if (!animationFrameId) requestAnimationFrame(render);
    }

    function render(time) {
        time *= 0.001;

        const displayWidth  = canvas.clientWidth;
        const displayHeight = canvas.clientHeight;
        if (canvas.width !== displayWidth || canvas.height !== displayHeight) {
            canvas.width  = displayWidth;
            canvas.height = displayHeight;
            gl.viewport(0, 0, canvas.width, canvas.height);
        }

        if (program) {
            gl.useProgram(program);

            const positionLocation = gl.getAttribLocation(program, "position");
            gl.enableVertexAttribArray(positionLocation);
            gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

            const resolutionLocation = gl.getUniformLocation(program, "iResolution");
            const timeLocation = gl.getUniformLocation(program, "iTime");

            gl.uniform2f(resolutionLocation, canvas.width, canvas.height);
            gl.uniform1f(timeLocation, time);

            gl.drawArrays(gl.TRIANGLES, 0, 6);
        }

        animationFrameId = requestAnimationFrame(render);
    }

    setInterval(updateTime, 1000);
    updateTime();
    fetchWeather();
    setLanguage('en');
</script>
</body>
</html>
